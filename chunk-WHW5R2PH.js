import{a as O}from"./chunk-QP3PRU4N.js";import{a as P,b as g,c as I,d as E,e as k,f as T,g as N,h as q,i as D,j as U,k as z}from"./chunk-6ALZV655.js";import{g as y,h as w}from"./chunk-GWC2OPZX.js";import{$a as b,Aa as F,Ea as m,M as x,Na as l,Oa as o,Pa as a,Q as M,Qa as f,Ua as C,Va as u,Za as s,_a as S,ra as r,wa as h}from"./chunk-LJK24X6Q.js";var B={production:!0,apiBaseUrl:"https://portfolio-backend-docker-isvl.onrender.com/api"};var _=class t{constructor(e){this.http=e}apiBase=B.apiBaseUrl;addContactUrl=`${this.apiBase}/contact/AddContact`;downloadFileUrl=`${this.apiBase}/contact/DownloadFile`;sendMessage(e){return this.http.post(this.addContactUrl,e)}downloadFile(e){return this.http.get(`${this.downloadFileUrl}/${e}`,{responseType:"blob",observe:"response"})}static \u0275fac=function(n){return new(n||t)(M(O))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})};function Y(t,e){t&1&&(o(0,"div",16),s(1," Name is required. "),a())}function L(t,e){t&1&&(o(0,"span"),s(1,"Email is required."),a())}function V(t,e){t&1&&(o(0,"span"),s(1,"Please enter a valid email address."),a())}function $(t,e){if(t&1&&(o(0,"div",16),m(1,L,2,0,"span",14)(2,V,2,0,"span",14),a()),t&2){let n=e.ngIf;r(),l("ngIf",n.required),r(),l("ngIf",n.email)}}function H(t,e){t&1&&(o(0,"div",16),s(1," Message is required. "),a())}function A(t,e){if(t&1&&(o(0,"div",17),s(1),a()),t&2){let n=u();r(),b(" ",n.selectedFile.name," ")}}function J(t,e){t&1&&(o(0,"span"),s(1,"Send Message"),a())}function K(t,e){t&1&&(o(0,"span"),s(1,"Sending..."),a())}function Q(t,e){if(t&1&&(o(0,"div",18),s(1),a()),t&2){let n=u();r(),b(" ",n.successMessage," ")}}function W(t,e){if(t&1&&(o(0,"div",16),s(1),a()),t&2){let n=u();r(),b(" ",n.errorMessage," ")}}var j=class t{constructor(e,n){this.fb=e;this.contactService=n;this.contactForm=this.fb.group({name:["",g.required],email:["",[g.required,g.email]],message:["",g.required],file:[null]})}contactForm;selectedFile=null;isSubmitting=!1;successMessage="";errorMessage="";lastContactId=null;onFileSelected(e){e.target.files.length>0&&(this.selectedFile=e.target.files[0])}onSubmit(){if(this.contactForm.invalid){this.errorMessage="Please fill all required fields correctly.";return}this.isSubmitting=!0,this.errorMessage="",this.successMessage="";let e=new FormData;e.append("Name",this.contactForm.value.name),e.append("Email",this.contactForm.value.email),e.append("Message",this.contactForm.value.message),this.selectedFile&&e.append("file",this.selectedFile),this.contactService.sendMessage(e).subscribe({next:n=>{this.successMessage="Message sent successfully!",this.contactForm.reset(),this.selectedFile=null,this.isSubmitting=!1,n&&n.id&&(this.lastContactId=n.id)},error:n=>{this.errorMessage="Error sending message. Please try again.",console.error("Contact error:",n),this.isSubmitting=!1}})}downloadFile(){if(!this.lastContactId){this.errorMessage="No file to download. Please submit a message with a file first.";return}this.contactService.downloadFile(this.lastContactId).subscribe({next:e=>{let n=new Blob([e.body],{type:e.body.type||"application/octet-stream"}),i=window.URL.createObjectURL(n),c=document.createElement("a");c.href=i;let d=e.headers.get("content-disposition"),p="downloaded_file";if(d){let v=d.match(/filename="(.+)"/);v&&v[1]&&(p=v[1])}c.download=p,c.click(),window.URL.revokeObjectURL(i)},error:e=>{this.errorMessage="Error downloading file.",console.error("Download error:",e)}})}static \u0275fac=function(n){return new(n||t)(h(D),h(_))};static \u0275cmp=F({type:t,selectors:[["app-contact"]],decls:26,vars:11,consts:[[1,"contact-section"],[1,"section-title"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","name","placeholder","Your Name","required",""],["class","error-message",4,"ngIf"],["type","email","formControlName","email","placeholder","Your Email","required",""],["formControlName","message","placeholder","Your Message","rows","5","required",""],["for","file-upload",1,"file-upload-label"],[1,"fas","fa-file-upload"],["id","file-upload","type","file",2,"display","none",3,"change"],["class","file-name",4,"ngIf"],[1,"form-group",2,"text-align","center","margin-top","1.5rem"],["type","submit",1,"cta-button",3,"disabled"],[4,"ngIf"],["class","success-message",4,"ngIf"],[1,"error-message"],[1,"file-name"],[1,"success-message"]],template:function(n,i){if(n&1&&(o(0,"section",0)(1,"h2",1),s(2,"Get In Touch"),a(),o(3,"form",2),C("ngSubmit",function(){return i.onSubmit()}),o(4,"div",3),f(5,"input",4),m(6,Y,2,0,"div",5),a(),o(7,"div",3),f(8,"input",6),m(9,$,3,2,"div",5),a(),o(10,"div",3),f(11,"textarea",7),m(12,H,2,0,"div",5),a(),o(13,"div",3)(14,"label",8),f(15,"i",9),o(16,"span"),s(17),a()(),o(18,"input",10),C("change",function(d){return i.onFileSelected(d)}),a(),m(19,A,2,1,"div",11),a(),o(20,"div",12)(21,"button",13),m(22,J,2,0,"span",14)(23,K,2,0,"span",14),a()(),m(24,Q,2,1,"div",15)(25,W,2,1,"div",5),a()()),n&2){let c,d,p;r(3),l("formGroup",i.contactForm),r(3),l("ngIf",((c=i.contactForm.get("name"))==null?null:c.touched)&&((c=i.contactForm.get("name"))==null?null:c.invalid)),r(3),l("ngIf",((d=i.contactForm.get("email"))==null?null:d.touched)&&((d=i.contactForm.get("email"))==null?null:d.errors)),r(3),l("ngIf",((p=i.contactForm.get("message"))==null?null:p.touched)&&((p=i.contactForm.get("message"))==null?null:p.invalid)),r(5),S(i.selectedFile?"Selected: "+i.selectedFile.name:"Upload Resume (Optional)"),r(2),l("ngIf",i.selectedFile),r(2),l("disabled",i.contactForm.invalid||i.isSubmitting),r(),l("ngIf",!i.isSubmitting),r(),l("ngIf",i.isSubmitting),r(),l("ngIf",i.successMessage),r(),l("ngIf",i.errorMessage)}},dependencies:[U,k,P,I,E,q,z,T,N,w,y],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:1rem;border-radius:10px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#fff;font-size:1rem}.error-message[_ngcontent-%COMP%]{color:#ff2a6d;margin-top:.5rem;font-size:.9rem}.success-message[_ngcontent-%COMP%]{color:#00c9ff;margin-top:1rem;text-align:center}.custom-file-upload[_ngcontent-%COMP%]{display:inline-block;padding:.8rem 1.5rem;background:linear-gradient(45deg,#8a2be2,#ff2a6d);color:#fff;border-radius:50px;cursor:pointer;transition:all .3s ease}.custom-file-upload[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 20px #e52e714d}#file-upload[_ngcontent-%COMP%]{display:none}.file-name[_ngcontent-%COMP%]{margin-top:.5rem;color:#ffffffb3;font-size:.9rem}.contact-section[_ngcontent-%COMP%]{display:block;max-width:900px;margin:0 auto;padding:2rem 0;background:linear-gradient(135deg,#232526,#302b63);border-radius:18px;box-shadow:0 8px 32px #1f26871a}.contact-card[_ngcontent-%COMP%]{background:#ffffff12;border-radius:18px;padding:2.5rem 2rem 2rem;box-shadow:0 8px 32px #1f26872e;max-width:420px;width:100%;margin:2rem auto;border:1px solid rgba(255,255,255,.13)}.form-group[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;flex-direction:column;align-items:stretch}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:1.1rem 1rem;border-radius:10px;background:#ffffff1f;border:1px solid rgba(255,255,255,.18);color:#fff;font-size:1.08rem;margin-top:.3rem;transition:border .2s}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border:1.5px solid #e52e71;outline:none}.file-upload-label[_ngcontent-%COMP%]{display:inline-block;padding:1rem 2rem;background:linear-gradient(45deg,#8a2be2,#ff2a6d);color:#fff;border-radius:50px;cursor:pointer;text-align:center;font-weight:600;font-size:1.08rem;margin-bottom:.5rem;transition:all .3s;box-shadow:0 2px 8px #e52e7121}.file-upload-label[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#ff2a6d,#8a2be2);transform:translateY(-2px) scale(1.04)}.file-name[_ngcontent-%COMP%]{margin-top:.5rem;color:#e0e0e0;font-size:.98rem;text-align:left}.cta-button[_ngcontent-%COMP%]{width:100%;padding:1.2rem 0;font-size:1.18rem;font-weight:700;border:none;border-radius:50px;background:linear-gradient(90deg,#e52e71,#ff8a00);color:#fff;box-shadow:0 4px 16px #e52e7121;cursor:pointer;transition:background .2s,transform .2s;margin-top:.5rem;letter-spacing:.5px}.cta-button[_ngcontent-%COMP%]:disabled{background:#bdbdbd;color:#f5f5f5;cursor:not-allowed;opacity:.7}.cta-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(90deg,#ff8a00,#e52e71);transform:translateY(-2px) scale(1.03)}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{margin-top:1.2rem;text-align:center;font-size:1.08rem;font-weight:600}.success-message[_ngcontent-%COMP%]{color:#0fa}.error-message[_ngcontent-%COMP%]{color:#ff2a6d}@media (max-width: 600px){.contact-card[_ngcontent-%COMP%]{padding:1.2rem .5rem;max-width:99vw}.contact-section[_ngcontent-%COMP%]{padding:.5rem;min-height:100vh}.cta-button[_ngcontent-%COMP%]{font-size:1rem;padding:1rem 0}}.contact-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center;margin-left:auto;margin-right:auto}form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}"]})};export{j as a};
